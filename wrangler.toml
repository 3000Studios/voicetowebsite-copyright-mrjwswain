name = "voicetowebsite"
main = "worker.js"
compatibility_date = "2026-01-27"
account_id = "d6ec056b27a57bcf807a46b2e3379d60"

# Cloudflare Pages build output directory (so Pages does not warn about wrangler.toml)
pages_build_output_dir = "dist"

# Serve the built site directly from Cloudflare (no origin) and keep the API path routed to the Worker.
routes = [
  "voicetowebsite.com/*",
  "www.voicetowebsite.com/*",
]

compatibility_flags = ["nodejs_compat"]

[ai]
binding = "AI"

[vars]
ENVIRONMENT = "production"
PUBLIC_GENERATE = "1"
# Placeholder for environment variables to be set in Cloudflare Dashboard
# OPENAI_API = ""
# PAYPAL_CLIENT_ID_PROD = ""
# ADSENSE_PUBLISHER = ""
# ADSENSE_SLOT = ""
# ADSENSE_MODE = "auto" # off | auto | slots | hybrid
# ADSENSE_SLOT_TOP = ""
# ADSENSE_SLOT_MID = ""
# ADSENSE_SLOT_BOTTOM = ""
# ADSENSE_MAX_SLOTS = "3"
# CONTROL_PASSWORD = ""

[assets]
directory = "./dist"
binding = "ASSETS"

[[d1_databases]]
binding = "D1"
database_id = "df1e9d32-3a53-4994-affc-d395983a8dc4"

[[kv_namespaces]]
binding = "KV"
id = "e61605d144ac4348a72b7e85afc6c185"

[[r2_buckets]]
binding = "R2"
# Create this bucket in Cloudflare (Template Store + user uploads).
bucket_name = "voicetowebsite-template-store"
# Optional: set a different bucket for `wrangler dev`.
preview_bucket_name = "voicetowebsite-template-store-dev"

[observability]
enabled = true
head_sampling_rate = 1

  [observability.logs]
  enabled = true
  head_sampling_rate = 1
  persist = true
  invocation_logs = true

  [observability.traces]
  enabled = true
  persist = true
  head_sampling_rate = 1
