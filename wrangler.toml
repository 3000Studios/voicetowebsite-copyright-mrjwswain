name = "voicetowebsite"
compatibility_date = "2026-01-27"
main = "worker.js"

compatibility_flags = ["nodejs_compat"]

# Static assets from Vite build output.
assets = { directory = "dist", binding = "ASSETS" }

# Explicitly disable workers.dev + preview URLs for production.
workers_dev = false
preview_urls = false

# Production routes for the public site.
routes = [
  { pattern = "voicetowebsite.com/*", zone_name = "voicetowebsite.com" },
  { pattern = "www.voicetowebsite.com/*", zone_name = "voicetowebsite.com" },
]

[observability]
enabled = true
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = true
persist = true
head_sampling_rate = 1

[ai]
binding = "AI"

[vars]
ENVIRONMENT = "production"
PUBLIC_GENERATE = "1"
CF_WORKERS_BUILDS_AUTO_DEPLOY = "1"
CF_ALLOW_LEGACY_DEPLOY_HOOKS = "1"
GH_BASE_BRANCH = "main"
GH_REPO = "3000Studios/voicetowebsite-copyright-mrjwswain"
ADSENSE_PUBLISHER = "ca-pub-5800977493749262"
ADSENSE_CUSTOMER_ID = "7555696606"
ADSENSE_MODE = "auto"
ADSENSE_ALLOW_ALL_PAGES = "1"
ADSENSE_MAX_SLOTS = "3"
PAYPAL_ENV = "live"
# NOTE: Do not commit secrets.
# Set runtime variables/secrets in the Cloudflare Dashboard (Worker settings) or via `wrangler secret put`.
# Examples (dashboard): ADMIN_EMAIL, PAYPAL_CLIENT_ID, ADSENSE_*.
# Examples (secrets): CONTROL_PASSWORD, LICENSE_SECRET, ADMIN_COOKIE_SECRET, STRIPE_SECRET_KEY, etc.

[[d1_databases]]
binding = "D1"
database_id = "df1e9d32-3a53-4994-affc-d395983a8dc4"

[[kv_namespaces]]
binding = "KV"
id = "e61605d144ac4348a72b7e85afc6c185"

[[durable_objects.bindings]]
name = "BOT_HUB"
class_name = "BotHubDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["BotHubDO"]

[[r2_buckets]]
binding = "R2"
bucket_name = "voicetowebsite-template-store"
preview_bucket_name = "voicetowebsite-template-store-dev"
