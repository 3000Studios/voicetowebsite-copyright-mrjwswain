<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar Scheduler - VoiceToWebsite App</title>
    <link rel="stylesheet" href="/styles.css" />
    <style>
      .app-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
        min-height: 100vh;
        color: white;
      }
      .calendar-form {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .calendar-view {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 2rem;
      }
      .btn {
        background: linear-gradient(45deg, #f59e0b, #d97706);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
      }
      .input-field {
        width: 100%;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        color: white;
        margin: 0.5rem 0;
      }
      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
        background: rgba(255, 255, 255, 0.1);
      }
      .calendar-day {
        background: rgba(255, 255, 255, 0.05);
        padding: 1rem;
        min-height: 80px;
      }
      .calendar-day.header {
        background: rgba(245, 158, 11, 0.2);
        font-weight: bold;
      }
      .event-item {
        background: rgba(245, 158, 11, 0.3);
        padding: 0.25rem;
        margin: 0.25rem 0;
        border-radius: 4px;
        font-size: 0.8rem;
        cursor: pointer;
      }
      .event-list {
        max-height: 400px;
        overflow-y: auto;
      }
      .event-item-list {
        background: rgba(255, 255, 255, 0.1);
        padding: 1rem;
        margin-bottom: 1rem;
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <header>
        <h1>üìÖ Calendar Scheduler</h1>
        <p>Manage your events and appointments</p>
      </header>

      <section class="calendar-form">
        <h2>Add Event</h2>
        <form id="eventForm">
          <input type="text" id="eventTitle" class="input-field" placeholder="Event Title" required />
          <textarea id="eventDescription" class="input-field" placeholder="Event Description" rows="3"></textarea>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem">
            <input type="datetime-local" id="eventStart" class="input-field" required />
            <input type="datetime-local" id="eventEnd" class="input-field" required />
          </div>
          <input type="text" id="eventLocation" class="input-field" placeholder="Location" />
          <select id="eventType" class="input-field">
            <option value="meeting">Meeting</option>
            <option value="appointment">Appointment</option>
            <option value="reminder">Reminder</option>
            <option value="task">Task</option>
            <option value="other">Other</option>
          </select>
          <button type="submit" class="btn">Add Event</button>
        </form>
      </section>

      <section class="calendar-view">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem">
          <button class="btn" onclick="previousMonth()">‚Üê Previous</button>
          <h2 id="currentMonth">January 2024</h2>
          <button class="btn" onclick="nextMonth()">Next ‚Üí</button>
        </div>

        <div class="calendar-grid" id="calendarGrid"></div>

        <h3 style="margin-top: 2rem">Upcoming Events</h3>
        <div class="event-list" id="eventList"></div>
      </section>
    </div>

    <script>
      let events = JSON.parse(localStorage.getItem("calendarEvents")) || [];
      let currentDate = new Date();

      function renderCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const prevLastDay = new Date(year, month, 0);

        const firstDayIndex = firstDay.getDay();
        const lastDayIndex = lastDay.getDay();
        const nextDays = 7 - lastDayIndex - 1;

        document.getElementById("currentMonth").textContent = new Date(year, month).toLocaleDateString("en-US", {
          month: "long",
          year: "numeric",
        });

        let days = "";

        // Previous month days
        for (let x = firstDayIndex; x > 0; x--) {
          days += `<div class="calendar-day">${prevLastDay.getDate() - x + 1}</div>`;
        }

        // Current month days
        for (let i = 1; i <= lastDay.getDate(); i++) {
          const dateStr = `${year}-${String(month + 1).padStart(2, "0")}-${String(i).padStart(2, "0")}`;
          const dayEvents = events.filter((e) => e.start.startsWith(dateStr));
          const eventHTML = dayEvents
            .map((e) => `<div class="event-item" onclick="showEventDetails('${e.id}')">${e.title}</div>`)
            .join("");

          days += `<div class="calendar-day">
                    <strong>${i}</strong>
                    ${eventHTML}
                </div>`;
        }

        // Next month days
        for (let j = 1; j <= nextDays; j++) {
          days += `<div class="calendar-day">${j}</div>`;
        }

        document.getElementById("calendarGrid").innerHTML =
          '<div class="calendar-day header">Sun</div>' +
          '<div class="calendar-day header">Mon</div>' +
          '<div class="calendar-day header">Tue</div>' +
          '<div class="calendar-day header">Wed</div>' +
          '<div class="calendar-day header">Thu</div>' +
          '<div class="calendar-day header">Fri</div>' +
          '<div class="calendar-day header">Sat</div>' +
          days;

        renderEventList();
      }

      function renderEventList() {
        const eventList = document.getElementById("eventList");
        const upcomingEvents = events
          .filter((e) => new Date(e.start) > new Date())
          .sort((a, b) => new Date(a.start) - new Date(b.start))
          .slice(0, 10);

        eventList.innerHTML = upcomingEvents
          .map(
            (e) => `
                <div class="event-item-list">
                    <h4>${e.title}</h4>
                    <p>${e.description}</p>
                    <p><strong>Start:</strong> ${new Date(e.start).toLocaleString()}</p>
                    <p><strong>End:</strong> ${new Date(e.end).toLocaleString()}</p>
                    <p><strong>Location:</strong> ${e.location || "N/A"}</p>
                    <p><strong>Type:</strong> ${e.type}</p>
                    <button class="btn" onclick="deleteEvent('${e.id}')">Delete</button>
                </div>
            `
          )
          .join("");
      }

      function addEvent(e) {
        e.preventDefault();
        const event = {
          id: Date.now().toString(),
          title: document.getElementById("eventTitle").value,
          description: document.getElementById("eventDescription").value,
          start: document.getElementById("eventStart").value,
          end: document.getElementById("eventEnd").value,
          location: document.getElementById("eventLocation").value,
          type: document.getElementById("eventType").value,
        };

        events.push(event);
        localStorage.setItem("calendarEvents", JSON.stringify(events));
        renderCalendar();
        document.getElementById("eventForm").reset();
      }

      function deleteEvent(id) {
        events = events.filter((e) => e.id !== id);
        localStorage.setItem("calendarEvents", JSON.stringify(events));
        renderCalendar();
      }

      function showEventDetails(id) {
        const event = events.find((e) => e.id === id);
        if (event) {
          alert(`${event.title}\n${event.description}\n${new Date(event.start).toLocaleString()}`);
        }
      }

      function previousMonth() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar();
      }

      function nextMonth() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar();
      }

      document.getElementById("eventForm").addEventListener("submit", addEvent);
      renderCalendar();
    </script>
  </body>
</html>
