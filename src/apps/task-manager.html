<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Manager - VoiceToWebsite App</title>
    <link rel="stylesheet" href="/styles.css" />
    <style>
      .app-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
        min-height: 100vh;
        color: white;
      }
      .task-form {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin-bottom: 2rem;
      }
      .task-list {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .task-item {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .task-item.completed {
        opacity: 0.6;
        text-decoration: line-through;
      }
      .btn {
        background: linear-gradient(45deg, #8b5cf6, #7c3aed);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
      }
      .btn:hover {
        transform: translateY(-2px);
      }
      .input-field {
        width: 100%;
        padding: 0.5rem;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        color: white;
        margin: 0.5rem 0;
      }
      .priority-high {
        border-left: 4px solid #ef4444;
      }
      .priority-medium {
        border-left: 4px solid #f59e0b;
      }
      .priority-low {
        border-left: 4px solid #10b981;
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <header>
        <h1>âœ… Task Manager</h1>
        <p>Organize and track your tasks efficiently</p>
      </header>

      <section class="task-form">
        <h2>Add New Task</h2>
        <form id="taskForm">
          <input type="text" id="taskTitle" class="input-field" placeholder="Task title" required />
          <textarea id="taskDescription" class="input-field" placeholder="Task description" rows="3"></textarea>
          <select id="taskPriority" class="input-field">
            <option value="low">Low Priority</option>
            <option value="medium">Medium Priority</option>
            <option value="high">High Priority</option>
          </select>
          <input type="date" id="taskDueDate" class="input-field" />
          <button type="submit" class="btn">Add Task</button>
        </form>
      </section>

      <section class="task-list">
        <h2>Your Tasks</h2>
        <div id="taskContainer"></div>
      </section>
    </div>

    <script>
      let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

      function renderTasks() {
        const container = document.getElementById("taskContainer");
        container.innerHTML = "";

        tasks.sort((a, b) => {
          const priorityOrder = { high: 0, medium: 1, low: 2 };
          return priorityOrder[a.priority] - priorityOrder[b.priority];
        });

        tasks.forEach((task) => {
          const taskEl = document.createElement("div");
          taskEl.className = `task-item priority-${task.priority} ${task.completed ? "completed" : ""}`;
          taskEl.innerHTML = `
                    <div>
                        <h3>${task.title}</h3>
                        <p>${task.description}</p>
                        <small>Due: ${task.dueDate || "No due date"}</small>
                    </div>
                    <div>
                        <button class="btn" onclick="toggleTask('${task.id}')">${task.completed ? "Undo" : "Complete"}</button>
                        <button class="btn" onclick="deleteTask('${task.id}')">Delete</button>
                    </div>
                `;
          container.appendChild(taskEl);
        });
      }

      function addTask(e) {
        e.preventDefault();
        const task = {
          id: Date.now().toString(),
          title: document.getElementById("taskTitle").value,
          description: document.getElementById("taskDescription").value,
          priority: document.getElementById("taskPriority").value,
          dueDate: document.getElementById("taskDueDate").value,
          completed: false,
          createdAt: new Date().toISOString(),
        };
        tasks.push(task);
        saveTasks();
        renderTasks();
        document.getElementById("taskForm").reset();
      }

      function toggleTask(id) {
        const task = tasks.find((t) => t.id === id);
        if (task) {
          task.completed = !task.completed;
          saveTasks();
          renderTasks();
        }
      }

      function deleteTask(id) {
        tasks = tasks.filter((t) => t.id !== id);
        saveTasks();
        renderTasks();
      }

      function saveTasks() {
        localStorage.setItem("tasks", JSON.stringify(tasks));
      }

      document.getElementById("taskForm").addEventListener("submit", addTask);
      renderTasks();
    </script>
  </body>
</html>
