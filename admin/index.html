<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VoiceToWebsite | Admin Command Center</title>
  <meta name="description" content="Autonomous Voice-to-Website Command Center." />
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="./admin.css" />
  <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Space+Mono&display=swap" rel="stylesheet" />
  <style>
    /* Inline overrides for the Neural Gate + Command Center hybrid */
    .command-interface {
      display: grid;
      gap: 2rem;
      margin-top: 2rem;
      position: relative;
      z-index: 100;
      background: rgba(5, 7, 10, 0.85);
      backdrop-filter: blur(20px);
      padding: 2rem;
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .status-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .mic-controls {
      display: flex;
      gap: 1rem;
    }
  </style>
</head>
<body>
  <div class="video-bg admin-video-bg">
    <video src="https://res.cloudinary.com/dj92eb97f/video/upload/v1768852259/203021-919745637_ftl2bl.mp4" autoplay muted loop playsinline></video>
  </div>
  <div class="noise-overlay" aria-hidden="true"></div>

  <!-- LOCK SCREEN -->
  <div class="lock-screen admin-lock" id="lock-screen">
    <div class="plasma-chamber" aria-hidden="true">
      <div class="ion ion-1"></div>
      <div class="ion ion-2"></div>
      <div class="ion ion-3"></div>
    </div>

    <main class="login-suspension" aria-label="Admin login">
      <div class="scanner-line" aria-hidden="true"></div>

      <header class="header-section">
          <span class="id-label">Security Protocol // Ionized</span>
        <h1>Neural Gate</h1>
      </header>

      <form id="auth-form">
        <div class="input-group">
          <span class="input-tag">01_IDENTIFIER</span>
          <input type="email" id="lock-email" placeholder="USER_NAME@DOMAIN" autocomplete="username" />
          <div class="input-focus-line"></div>
        </div>

        <div class="input-group">
          <span class="input-tag">02_PASS_KEY</span>
          <input type="password" id="lock-input" placeholder="••••••••••••" autocomplete="current-password" required />
          <div class="input-focus-line"></div>
        </div>

        <button type="submit" class="ignition-trigger" id="lock-button">
          Initialize Session
        </button>
      </form>

      <div class="meta-actions">
        <a href="/" aria-label="Return to site">Return</a>
        <p class="muted" id="lock-error" role="status" aria-live="polite"></p>
      </div>
    </main>
  </div>

  <!-- MAIN ADMIN SHELL -->
  <div class="admin-shell admin-landing-shell">

    <!-- NAVIGATION HEADER -->
    <header class="admin-header">
      <div class="brand">
        <div class="brand-mark">J</div>
        <div class="brand-text">
          <strong>JULES</strong>
          <span>Command Center</span>
        </div>
      </div>
      <nav class="admin-subnav">
        <a href="#console">Console</a>
        <a href="voice-commands.html">Voice</a>
        <a href="store-manager.html">Store</a>
        <a href="app-store-manager.html">Apps</a>
        <a href="analytics.html">Data</a>
      </nav>
      <div class="status-chip warn" id="session-state">Locked</div>
    </header>

    <!-- COMMAND CENTER INTERFACE -->
    <div class="command-interface" id="console">

      <!-- STATUS & MIC -->
      <div class="status-bar">
        <div>
          <span class="status-label">System Status</span>
          <div class="status-value" id="status">Initializing...</div>
        </div>
        <div>
          <span class="status-label">Orchestrator</span>
          <div class="status-chip warn" id="orchestrator-state">Offline</div>
        </div>
        <div class="mic-controls">
          <button class="primary" id="start">Start Voice</button>
          <button class="secondary" id="stop">Stop</button>
          <span class="status-chip" id="mic-state">Idle</span>
        </div>
      </div>

      <!-- INPUT & CONTROLS -->
      <div class="control-box">
        <div class="control-main">
          <label class="field-label" for="command">Command Input</label>
          <textarea id="command" placeholder="Describe the change you want... (e.g. 'Change headline to Future of Web', 'Add a pricing section')"></textarea>

          <div class="quick-commands" id="quick-commands">
            <span class="quick-label">Quick:</span>
            <button class="chip" data-command="Deploy site">Deploy</button>
            <button class="chip" data-command="Show analytics">Analytics</button>
            <button class="chip" data-command="Theme to midnight">Midnight Theme</button>
          </div>

          <div style="margin: 1rem 0; padding: 0.5rem; background: rgba(255, 200, 0, 0.1); border-radius: 8px; display: flex; align-items: center; gap: 0.5rem;">
            <input type="checkbox" id="autonomous-mode" style="width: 1.2rem; height: 1.2rem;" checked />
            <label for="autonomous-mode" style="font-weight: bold; cursor: pointer;">Autonomous Mode (Auto-Plan & Auto-Deploy)</label>
          </div>

          <div class="button-grid">
            <button class="primary" id="plan">Plan Change</button>
            <input type="text" id="plan-confirm" placeholder='Type "ship it" to confirm' style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 0.8rem; border-radius: 999px; color: white; text-align: center;" />
            <button class="primary" id="apply" disabled>Apply & Deploy</button>
            <button class="ghost" id="undo">Undo Last</button>
          </div>
        </div>
        </div>

        <!-- LOGS & RESPONSE -->
        <div class="response-panel">
          <div class="panel-head">
            <span class="field-label">System Response</span>
            <span class="status-chip" id="response-source">Waiting</span>
          </div>
          <pre id="response">Awaiting input...</pre>
          <div id="plan-summary" class="muted small"></div>
        </div>
      </div>

      <!-- PREVIEW SECTION -->
      <div class="preview-shell">
        <div class="preview-controls">
          <h3 class="field-label">Live Preview</h3>
          <div class="button-row">
            <button class="ghost small" id="preview-speak">Read Summary</button>
            <button class="ghost small" id="preview-reset">Reset Preview</button>
            <span class="status-chip" id="preview-mode">Idle</span>
          </div>
        </div>
        <div class="preview-stage solo">
          <iframe id="preview-frame" src="/" title="Site Preview"></iframe>
        </div>
        <div class="preview-extras" id="preview-extras"></div>
      </div>

      <!-- ACTIVITY LOGS -->
      <div class="activity-section">
        <div class="panel-head">
          <h3>Activity Log</h3>
          <button class="ghost small" id="refresh-logs">Refresh</button>
        </div>
        <p class="muted" id="activity-status">Ready to load.</p>
        <ul class="activity-list" id="activity-list"></ul>
      </div>

      <!-- TRANSCRIPTS -->
      <div class="transcript-section">
        <h3>Voice Transcripts</h3>
        <p class="muted" id="transcript-status">No transcripts.</p>
        <ul class="activity-list" id="transcript-list"></ul>
      </div>

    </div>
  </div>

  <script type="module" src="./admin.js"></script>
  <script type="module" src="./auto-mode.js"></script>
  <script type="module" src="../nav.js"></script>
</body>
</html>
